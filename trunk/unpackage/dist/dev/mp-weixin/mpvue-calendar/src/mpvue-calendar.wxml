<view data-ref="calendar" class="mpvue-calendar _div vue-ref"><block wx:if="{{!isMonthRange}}"><view class="calendar-tools _div"><view style="width:50%;" class="_div"><view data-event-opts="{{[['tap',[['selectYear',[year-1]]]]]}}" class="triangle _div" style="margin-left:80rpx;" bindtap="__e"></view><view class="triangle-year _div">{{year}}</view><view data-event-opts="{{[['tap',[['selectYear',[year+1]]]]]}}" class="triangle-r _div" style="margin-left:220rpx;margin-top:-50rpx;" bindtap="__e"></view></view><view style="width:50%;" class="_div"><view data-event-opts="{{[['tap',[['prev',['$event']]]]]}}" class="triangle _div" style="margin-left:80rpx;" bindtap="__e"></view><view class="triangle-year _div">{{monthText}}</view><view data-event-opts="{{[['tap',[['next',['$event']]]]]}}" class="triangle-r _div" style="margin-left:200rpx;margin-top:-50rpx;" bindtap="__e"></view></view></view></block><view cellpadding="5" class="_table"><view class="{{['mc-head _div','mc-head',[(isMonthRange)?'mc-month-range-mode-head':'']]}}"><view class="mc-head-box _div"><block wx:for="{{weeks}}" wx:for-item="week" wx:for-index="index" wx:key="index"><view class="mc-week _div">{{week}}</view></block></view></view><block wx:for="{{monthRangeDays}}" wx:for-item="days" wx:for-index="index" wx:key="index"><view class="{{['_div','mc-body',[(range)?'mc-range-mode':'',(weekSwitch&&!isMonthRange)?'week-switch':'',(isMonthRange)?'month-range-mode':'']]}}"><block wx:if="{{isMonthRange}}"><view class="month-rang-head _div">{{rangeOfMonths[index][2]}}</view></block><block wx:for="{{days}}" wx:for-item="day" wx:for-index="k1" wx:key="k1"><view class="{{['_tr',(!lunar)?'gregorianStyle':'']}}"><block wx:for="{{day}}" wx:for-item="child" wx:for-index="k2" wx:key="k2"><view data-event-opts="{{[['tap',[['select',[k1,k2,'$0','$event',index],[[['monthRangeDays','',index],['','',k1],['','',k2]]]]]]]}}" class="{{['mc-day _td',[(child.selected)?'selected':'',(child.isToday)?'mc-today-element':'',(child.disabled)?'disabled':'',(rangeBgHide&&child.selected)?'mc-range-select-one':'',(lunar)?'lunarStyle':'',(k2===0&&child.selected)?'mc-range-row-first':'',(child.lastDay)?'month-last-date':'',(1===child.day)?'month-first-date':'',(k2===6&&child.selected)?'mc-range-row-last':'',(child.lastMonth)?'mc-last-month':'',(child.nextMonth)?'mc-next-month':''],child.className,child.rangeClassName]}}" style="{{(itemStyle)}}" bindtap="__e"><block wx:if="{{showToday.show&&child.isToday}}"><label class="mc-today calendar-date _span">{{showToday.text}}</label></block><block wx:else><label class="{{['_span',[(k2===(monFirst?5:0)||k2===6)?'mc-date-red':''],'calendar-date']}}">{{child.day}}</label></block><block wx:if="{{!!child.content}}"><view class="slot-element _div">{{child.content}}</view></block><block wx:if="{{child.eventName&&!clean}}"><view class="mc-text remark-text _div">{{child.eventName}}</view></block><block wx:if="{{child.rangeClassName=='mc-range-begin'}}"><view class="mc-text" style="color:#FFFFFF;">始</view></block><block wx:if="{{child.rangeClassName=='mc-range-end'}}"><view class="mc-text" style="color:#FFFFFF;">终</view></block><block wx:if="{{range&&child.selected}}"><view class="mc-range-bg _div"></view></block></view></block></view></block></view></block></view><view class="{{['mpvue-calendar-change _div',(yearsShow)?'show':'']}}"><block wx:if="{{!weekSwitch}}"><view class="calendar-years _div"><block wx:for="{{years}}" wx:for-item="y" wx:for-index="__i0__" wx:key="*this"><label data-event-opts="{{[['tap',[['selectYear',['$0'],[[['years','',__i0__]]]]]]]}}" class="{{['_span',(y===year)?'active':'']}}" catchtap="__e">{{y}}</label></block></view></block><view class="{{['_div','calendar-months',[(weekSwitch)?'calendar-week-switch-months':'']]}}"><block wx:for="{{months}}" wx:for-item="m" wx:for-index="i" wx:key="*this"><label data-event-opts="{{[['tap',[['changeMonth',[i]]]]]}}" class="{{['_span',(i===month)?'active':'']}}" catchtap="__e">{{m}}</label></block></view></view></view>