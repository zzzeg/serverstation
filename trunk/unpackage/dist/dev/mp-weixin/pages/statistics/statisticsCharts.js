(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/statistics/statisticsCharts"],{279:
/*!*****************************************************************************************************!*\
  !*** E:/yisheng_mingwo/serverMobile/trunk/main.js?{"page":"pages%2Fstatistics%2FstatisticsCharts"} ***!
  \*****************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){i(/*! uni-pages */4);a(i(/*! vue */2));var e=a(i(/*! ./pages/statistics/statisticsCharts.vue */280));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},280:
/*!**********************************************************************************!*\
  !*** E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue ***!
  \**********************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var a=i(/*! ./statisticsCharts.vue?vue&type=template&id=b43288b8& */281),n=i(/*! ./statisticsCharts.vue?vue&type=script&lang=js& */283);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i(/*! ./statisticsCharts.vue?vue&type=style&index=0&lang=css& */286);var s,l=i(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),o=Object(l["default"])(n["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],s);o.options.__file="E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue",e["default"]=o.exports},281:
/*!*****************************************************************************************************************!*\
  !*** E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=template&id=b43288b8& ***!
  \*****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e);var a=i(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./statisticsCharts.vue?vue&type=template&id=b43288b8& */282);i.d(e,"render",(function(){return a["render"]})),i.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),i.d(e,"components",(function(){return a["components"]}))},282:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=template&id=b43288b8& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";var a;i.r(e),i.d(e,"render",(function(){return n})),i.d(e,"staticRenderFns",(function(){return s})),i.d(e,"recyclableRender",(function(){return r})),i.d(e,"components",(function(){return a}));var n=function(){var t=this,e=t.$createElement;t._self._c},r=!1,s=[];n._withStripped=!0},283:
/*!***********************************************************************************************************!*\
  !*** E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var a=i(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./statisticsCharts.vue?vue&type=script&lang=js& */284),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},284:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i(/*! ../../common/api.js */17)),n=s(i(/*! ../../common/util.js */27));i(/*! mpvue-calendar/src/style.css */207);var r=s(i(/*! @/components/u-charts/u-charts.js */285));function s(t){return t&&t.__esModule?t:{default:t}}var l,o=function(){Promise.all(/*! require.ensure | mpvue-calendar/src/mpvue-calendar */[i.e("common/vendor"),i.e("mpvue-calendar/src/mpvue-calendar")]).then(function(){return resolve(i(/*! mpvue-calendar */335))}.bind(null,i)).catch(i.oe)},c=null,u=null,d={components:{Calendar:o},data:function(){return{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],disabledArray:["2018-6-27","2018-6-25"],value:null,begin:[2016,1,1],end:[2020,1,1],events:{"2018-6-7":"今日备注","2018-6-8":"一条很长的明日备注"},almanacs:{"9-3":"抗战胜利日","11-17":"学生日"},tileContent:[{date:"2018-9-22",className:"holiday ",content:"休"},{date:"2018-9-23",className:"holiday ",content:"休"}],mask:!1,userinfo:null,summary:null,queryTimeText:"",starTime:null,endTime:null,textData:[{title:"用户数",unit:"人",chartsTitle:"新增加入用户",className:"blue",chartslineTitle:["新增加入用户"],chartslineKey:["joinNum"],chartsUnit:"",maxValue:200},{title:"辨证数",unit:"人",chartsTitle:"辨证分型趋势",className:"green",chartslineTitle:["总辨证分型","线上辨证分型","线下辨证分型"],chartslineKey:[["constitutionOnlineNum","constitutionOfflineNum"],"constitutionOnlineNum","constitutionOfflineNum"],chartsUnit:"",maxValue:200},{title:"订单",unit:"人",chartsTitle:"订单趋势",className:"shallowBlue",chartslineTitle:["总订单数","线上订单数","线下订单数"],chartslineKey:["orderNum","orderOnlineNum","orderOfflineNum"],chartsUnit:"",maxValue:200},{title:"订单金额",unit:"元",chartsTitle:"订单金额(实收)趋势(元)",className:"blue",chartslineTitle:["总实收金额","线上实收金额","线下实收金额"],chartslineKey:[["orderOnlineActualPrice","orderOfflineActualPrice"],"orderOnlineActualPrice","orderOfflineActualPrice"],chartsUnit:"k",maxValue:20},{title:"结算金额",unit:"元",chartsTitle:"结算金额趋势(元)",className:"shallowBlue",chartslineTitle:["结算金额"],chartslineKey:["billingAmount"],chartsUnit:"k",maxValue:20}],tag:0,cWidth:"",cHeight:"",pixelRatio:1}},onLoad:function(e){l=this,this.tag=e.tag,t.setNavigationBarTitle({title:this.textData[e.tag].title}),this.cWidth=t.upx2px(690),this.cHeight=t.upx2px(600);var i=new Date;i.setTime(i.getTime());var a=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),n=new Date(i);n.setDate(n.getDate()-7);var r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();this.loadData(r,a),this.value=[[n.getFullYear(),n.getMonth()+1,n.getDate()],[i.getFullYear(),i.getMonth()+1,i.getDate()]],this.starTime=[n.getFullYear(),n.getMonth()+1,n.getDate()],this.endTime=[i.getFullYear(),i.getMonth()+1,i.getDate()],this.queryTimeText=n.getFullYear()+"."+(n.getMonth()+1)+"."+n.getDate()+".今"},methods:{loadData:function(t,e){var i=this,r={start:t,end:e};a.default.statisticsIndex({data:r}).then((function(t){if("OK"==t.status){i.summary=t.data.summary;var e={categories:[],series:[]};i.textData[i.tag].chartslineTitle.forEach((function(a,n){var r={name:a,data:[]};t.data.items.forEach((function(t,e){var a=i.textData[i.tag].chartslineKey[n];if(console.log(Array.isArray(a)),Array.isArray(a)){a=i.textData[i.tag].chartslineKey[n+1];var s=i.textData[i.tag].chartslineKey[n+2];3==i.tag||4==i.tag?r.data.push((t[a]+t[s])/1e5):r.data.push(t[a]+t[s])}else{a=i.textData[i.tag].chartslineKey[n];3==i.tag||4==i.tag?r.data.push(t[a]/1e5):r.data.push(t[a])}})),e.series.push(r)})),t.data.items.forEach((function(t,i){var a=n.default.formatTimestamp(t.time,"MM/dd");e.categories.push(a)})),i.showLineA("canvasLineA",e,i.textData[i.tag].chartsUnit,i.textData[i.tag].maxValue)}}))},clickConfirm:function(){this.queryTimeText=this.starTime[0]+"."+this.starTime[1]+"."+this.starTime[2]+"...",this.loadData(this.starTime[0]+"-"+this.starTime[1]+"-"+this.starTime[2],this.endTime[0]+"-"+this.endTime[1]+"-"+this.endTime[2]),this.clickCalendar()},clickCalendar:function(){this.mask=!this.mask,this.queryTimeText=this.starTime[0]+"."+this.starTime[1]+"."+this.starTime[2]+"...",this.loadData(this.starTime[0]+"-"+this.starTime[1]+"-"+this.starTime[2],this.endTime[0]+"-"+this.endTime[1]+"-"+this.endTime[2])},showLineA:function(t,e,i,a){c=new r.default({$this:l,canvasId:t,type:"line",fontSize:11,legend:{show:!0},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:l.pixelRatio,categories:e.categories,series:e.series,animation:!0,enableScroll:!0,xAxis:{type:"grid",gridColor:"#ffffff",gridType:"dash",dashLength:4,itemCount:7,scrollShow:!1,scrollAlign:"left",scrollBackgroundColor:"#F7F7FF",scrollColor:"#DEE7F7"},yAxis:{gridType:"dash",gridColor:"#CCCCCC",dashLength:8,splitNumber:5,min:0,max:a,format:function(t){return t.toFixed(0)+i}},width:l.cWidth*l.pixelRatio,height:l.cHeight*l.pixelRatio,extra:{line:{type:"curve"}}})},showLineB:function(t,e,i,a){u=new r.default({$this:l,canvasId:t,type:"line",fontSize:11,legend:{show:!0},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:l.pixelRatio,categories:e.categories,series:e.series,animation:!0,enableScroll:!0,xAxis:{type:"grid",gridColor:"#ffffff",gridType:"dash",dashLength:4,itemCount:7,scrollShow:!1,scrollAlign:"left",scrollBackgroundColor:"#F7F7FF",scrollColor:"#DEE7F7"},yAxis:{gridType:"dash",gridColor:"#CCCCCC",dashLength:8,splitNumber:5,min:0,max:a,format:function(t){return t.toFixed(0)+i}},width:l.cWidth*l.pixelRatio,height:l.cHeight*l.pixelRatio,extra:{line:{type:"curve"}}})},touchLineA:function(t){c.scrollStart(t)},moveLineA:function(t){c.scroll(t)},touchEndLineA:function(t){c.scrollEnd(t),c.showToolTip(t,{format:function(t,e){return e+" "+t.name+":"+t.data}})},touchLineB:function(t){u.scrollStart(t)},moveLineB:function(t){u.scroll(t)},touchEndLineB:function(t){u.scrollEnd(t),u.showToolTip(t,{format:function(t,e){return e+" "+t.name+":"+t.data}})},select:function(t,e){console.log(t),console.log(e),e&&(this.starTime=t,this.endTime=e,this.value=[[t[0],t[1],t[2]],[e[0],e[1],e[2]]])}}};e.default=d}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},286:
/*!*******************************************************************************************************************!*\
  !*** E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var a=i(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./statisticsCharts.vue?vue&type=style&index=0&lang=css& */287),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},287:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng_mingwo/serverMobile/trunk/pages/statistics/statisticsCharts.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[279,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/statistics/statisticsCharts.js.map